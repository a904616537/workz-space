webpackJsonp([7],{DPwd:function(e,t){},esMn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o("cwe7"),o("+BTi");var n=o("2X9z"),r=o.n(n),c=(o("NYxO"),o("gyMJ")),i={name:"BottomBar",methods:{getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(t);return null!=o?unescape(o[2]):null},onWechatLogin:function(e){window.location.href=e?"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx1020286e395af06c&redirect_uri=http%3A%2F%2Fstore.workspace.h-fish.vip/&response_type=code&scope=snsapi_userinfo&state=123#wechat_redirect":"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx1020286e395af06c&redirect_uri=http%3A%2F%2Fstore.workspace.h-fish.vip/&response_type=code&scope=snsapi_userinfo&state="+e+"#wechat_redirect"},toWechat:function(){console.log("正式版本"),this.toWechatUrl()},onInit:function(){var e=this,t=this.getUrlParam("workspace"),o=this.getUrlParam("code");o?Object(c.e)({code:o}).then(function(t){var o=t.openid;e.getUser(o)}).catch(function(e){console.log("error",e)}):this.onWechatLogin(t)},getUser:function(e){var t=this;Object(c.g)({openid:e}).then(function(e){if(console.log("user",e),e){t.$store.dispatch("user/login",e);var o=t.getUrlParam("state");"123"!=o&&t.$router.push({path:"workspace",query:{_id:o}})}else r.a.error("请先关注 WorkzSpace 公众号")}).catch(function(e){r.a.error("user get error"),console.log("获取失败",e)})}},created:function(){this.onInit()}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view"),this._v(" "),t("v-menu")],1)},staticRenderFns:[]};var a=o("VU/8")(i,s,!1,function(e){o("DPwd")},null,null);t.default=a.exports}});
//# sourceMappingURL=7.8b47def70857f2332852.js.map